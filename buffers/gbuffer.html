<!DOCTYPE html>
<html>
<head>
<title>Jet Set Willy: Game status buffer</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../style.css" />
</head>
<body class="GameStatusBuffer">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="Jet Set Willy" src="../images/logo-hex.png" /></a></td>
<td class="page-header">Game status buffer</td>
</tr>
</table>
<div class="map-intro"></div>
<table class="map">
<tr>
<th>Address</th>
<th class="map-length">Length</th>
<th>Description</th>
</tr>
<tr>
<td class="map-g"><span id="8000"></span><a href="../asm/8000.html">8000</a></td>
<td class="map-length">128</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/8000.html">Room layout</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised upon entry to a room and then used by the routine at <a href="../asm/8912.html">8912</a>, and also used by the routine at <a href="../asm/8D6B.html">8D6B</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="8080"></span><a href="../asm/8080.html">8080</a></td>
<td class="map-length">32</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/8080.html">Room name</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised upon entry to a room and then used by the routine at <a href="../asm/8912.html">8912</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="80a0"></span><a href="../asm/80A0.html">80A0</a></td>
<td class="map-length">54</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/80A0.html">Room tiles</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised upon entry to a room by the routine at <a href="../asm/8912.html">8912</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="80d6"></span><a href="../asm/80D6.html">80D6</a></td>
<td class="map-length">4</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/80D6.html">Conveyor definition</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised upon entry to a room by the routine at <a href="../asm/8912.html">8912</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="80da"></span><a href="../asm/80DA.html">80DA</a></td>
<td class="map-length">4</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/80DA.html">Ramp definition</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised upon entry to a room by the routine at <a href="../asm/8912.html">8912</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="80de"></span><a href="../asm/80DE.html">80DE</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/80DE.html">Border colour</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised upon entry to a room and then used by the routine at <a href="../asm/8912.html">8912</a>, and also used by the routines at <a href="../asm/8B07.html">8B07</a>, <a href="../asm/8DD3.html">8DD3</a>, <a href="../asm/91BE.html">91BE</a> and <a href="../asm/93D1.html">93D1</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="80e1"></span><a href="../asm/80E1.html">80E1</a></td>
<td class="map-length">8</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/80E1.html">Item graphic</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised upon entry to a room by the routine at <a href="../asm/8912.html">8912</a>, and used by the routine at <a href="../asm/93D1.html">93D1</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="80e9"></span><a href="../asm/80E9.html">80E9</a></td>
<td class="map-length">4</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/80E9.html">Room exits</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised upon entry to a room by the routine at <a href="../asm/8912.html">8912</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="80f0"></span><a href="../asm/80F0.html">80F0</a></td>
<td class="map-length">16</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/80F0.html">Entity specifications</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised upon entry to a room and then used by the routine at <a href="../asm/8912.html">8912</a>.
</div>
<div class="paragraph">
There are eight pairs of bytes here that hold the entity specifications for the current room. The first byte in each pair identifies one of the entity definitions at <a href="../asm/A000.html">A000</a>. The meaning of the second byte depends on the entity type: it determines the base sprite index and x-coordinate of a guardian, the y-coordinate of an arrow, or the x-coordinate of the top of a rope.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="8100"></span><a href="../asm/8100.html">8100</a></td>
<td class="map-length">65</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/8100.html">Entity buffers</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised by the routine at <a href="../asm/8912.html">8912</a>, and used by the routines at <a href="../asm/90C0.html">90C0</a> and <a href="../asm/91BE.html">91BE</a>. There are eight buffers here, each one eight bytes long, used to hold the state of the entities (rope, arrows and guardians) in the current room.
</div>
<div class="paragraph">
For a horizontal guardian, the eight bytes are used as follows:
</div>
<div class="paragraph">
<table class="default">
<tr>
<th colspan="1" rowspan="1">Byte</th>
<th colspan="1" rowspan="1">Contents</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="4">0</td>
<td class="" colspan="1" rowspan="1">Bit 7: direction (0=left, 1=right)</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bits 5-6: animation frame index</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bits 3-4: unused</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bits 0-2: entity type (001)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="4">1</td>
<td class="" colspan="1" rowspan="1">Bits 5-7: <a href="../reference/glossary.html#animation_frame_index_mask">animation frame index mask</a></td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bit 4: unused</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bit 3: BRIGHT value</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bits 0-2: INK colour</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="2">2</td>
<td class="" colspan="1" rowspan="1">Bits 5-7: base sprite index</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bits 0-4: x-coordinate</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">3</td>
<td class="" colspan="1" rowspan="1">Pixel y-coordinate x2 (index into the table at <a href="../asm/8200.html">8200</a>)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">4</td>
<td class="" colspan="1" rowspan="1">Unused</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">5</td>
<td class="" colspan="1" rowspan="1">Page containing the sprite graphic data (see <a href="../asm/AB00.html">AB00</a>)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">6</td>
<td class="" colspan="1" rowspan="1">Minimum x-coordinate</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">7</td>
<td class="" colspan="1" rowspan="1">Maximum x-coordinate</td>
</tr>
</table>
</div>
<div class="paragraph">
For a vertical guardian, the eight bytes are used as follows:
</div>
<div class="paragraph">
<table class="default">
<tr>
<th colspan="1" rowspan="1">Byte</th>
<th colspan="1" rowspan="1">Contents</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="3">0</td>
<td class="" colspan="1" rowspan="1">Bits 5-7: animation frame index</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bits 3-4: animation frame update flags (see <a href="../asm/90C0.html#917f">917F</a>)</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bits 0-2: entity type (010)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="4">1</td>
<td class="" colspan="1" rowspan="1">Bits 5-7: <a href="../reference/glossary.html#animation_frame_index_mask">animation frame index mask</a></td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bit 4: unused</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bit 3: BRIGHT value</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bits 0-2: INK colour</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="2">2</td>
<td class="" colspan="1" rowspan="1">Bits 5-7: base sprite index</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bits 0-4: x-coordinate</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">3</td>
<td class="" colspan="1" rowspan="1">Pixel y-coordinate x2 (index into the table at <a href="../asm/8200.html">8200</a>)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">4</td>
<td class="" colspan="1" rowspan="1">Pixel y-coordinate increment</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">5</td>
<td class="" colspan="1" rowspan="1">Page containing the sprite graphic data (see <a href="../asm/AB00.html">AB00</a>)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">6</td>
<td class="" colspan="1" rowspan="1">Minimum y-coordinate</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">7</td>
<td class="" colspan="1" rowspan="1">Maximum y-coordinate</td>
</tr>
</table>
</div>
<div class="paragraph">
For an arrow, the eight bytes are used as follows:
</div>
<div class="paragraph">
<table class="default">
<tr>
<th colspan="1" rowspan="1">Byte</th>
<th colspan="1" rowspan="1">Contents</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="3">0</td>
<td class="" colspan="1" rowspan="1">Bit 7: direction (0=left, 1=right)</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bits 3-6: unused</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bits 0-2: entity type (100)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">Unused</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">2</td>
<td class="" colspan="1" rowspan="1">Pixel y-coordinate x2 (index into the table at <a href="../asm/8200.html">8200</a>)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">3</td>
<td class="" colspan="1" rowspan="1">Unused</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">4</td>
<td class="" colspan="1" rowspan="1">x-coordinate</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">5</td>
<td class="" colspan="1" rowspan="1">Collision detection byte (0x00=off, 0xFF=on)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">6</td>
<td class="" colspan="1" rowspan="1">Top/bottom pixel row (drawn either side of the shaft)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">7</td>
<td class="" colspan="1" rowspan="1">Unused</td>
</tr>
</table>
</div>
<div class="paragraph">
The rope uses the second and fourth bytes of the following buffer in addition to its own; these ten bytes are used as follows:
</div>
<div class="paragraph">
<table class="default">
<tr>
<th colspan="1" rowspan="1">Byte</th>
<th colspan="1" rowspan="1">Contents</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="3">0</td>
<td class="" colspan="1" rowspan="1">Bit 7: direction (0=left, 1=right)</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bits 3-6: unused</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bits 0-2: entity type (011)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">Animation frame index</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">2</td>
<td class="" colspan="1" rowspan="1">x-coordinate of the top of the rope</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">3</td>
<td class="" colspan="1" rowspan="1">x-coordinate of the segment of rope being drawn</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">4</td>
<td class="" colspan="1" rowspan="1">Length (0x20)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">5</td>
<td class="" colspan="1" rowspan="1">Segment drawing byte</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">6</td>
<td class="" colspan="1" rowspan="1">Unused</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">7</td>
<td class="" colspan="1" rowspan="1">Animation frame at which the rope changes direction (0x36)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">9</td>
<td class="" colspan="1" rowspan="1">Index of the segment of rope being drawn (0x00-0x20)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="2">11</td>
<td class="" colspan="1" rowspan="1">Bits 1-7: unused</td>
</tr>
<tr>
<td class="" colspan="1" rowspan="1">Bit 0: Willy is on the rope (set), or not (reset)</td>
</tr>
</table>
</div>
<div class="paragraph">
Note that if a rope were the eighth entity specified in a room, its buffer would use the first and third bytes in the otherwise unused area at <a href="../asm/8141.html">8141</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="8420"></span><a href="../asm/8420.html">8420</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/8420.html">Current room number</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised to 0x21 (<a href="../asm/E100.html">The Bathroom</a>) by the routine at <a href="../asm/87CA.html">87CA</a>, checked by the routines at <a href="../asm/8912.html">8912</a>, <a href="../asm/91BE.html">91BE</a>, <a href="../asm/93D1.html">93D1</a>, <a href="../asm/9534.html">9534</a>, <a href="../asm/9584.html">9584</a>, <a href="../asm/959A.html">959A</a> and <a href="../asm/9637.html">9637</a>, and updated by the routines at <a href="../asm/8B07.html">8B07</a>, <a href="../asm/948A.html">948A</a>, <a href="../asm/949E.html">949E</a>, <a href="../asm/94B0.html">94B0</a> and <a href="../asm/94D2.html">94D2</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="857c"></span><a href="../asm/857C.html">857C</a></td>
<td class="map-length">3</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/857C.html">Number of items collected</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised by the routine at <a href="../asm/87CA.html">87CA</a>, printed by the routine at <a href="../asm/89AD.html">89AD</a>, and updated by the routine at <a href="../asm/93D1.html">93D1</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="857f"></span><a href="../asm/857F.html">857F</a></td>
<td class="map-length">6</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/857F.html">Current time</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised by the routine at <a href="../asm/88FC.html">88FC</a>, and printed and updated by the routine at <a href="../asm/89AD.html">89AD</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85cb"></span><a href="../asm/85CB.html">85CB</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85CB.html">Minute counter</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised by the routine at <a href="../asm/87CA.html">87CA</a>; incremented on each pass through the main loop by the routine at <a href="../asm/89AD.html">89AD</a> (which moves the game clock forward by a minute when the counter reaches 0); reset to zero by the routine at <a href="../asm/9584.html">9584</a> when Willy sticks his head down the toilet; and used by the routines at <a href="../asm/93D1.html">93D1</a> (to cycle the colours of the items in the room), <a href="../asm/9534.html">9534</a> (to determine Maria's animation frame in <a href="../asm/E300.html">Master Bedroom</a>) and <a href="../asm/959A.html">959A</a> (to determine the animation frame for the toilet in <a href="../asm/E100.html">The Bathroom</a>).
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85cc"></span><a href="../asm/85CC.html">85CC</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85CC.html">Lives remaining</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised to 7 by the routine at <a href="../asm/87CA.html">87CA</a>, decremented by the routine at <a href="../asm/8C01.html">8C01</a>, and used by the routines at <a href="../asm/898B.html">898B</a> (when drawing the remaining lives) and <a href="../asm/8B07.html">8B07</a> (to adjust the speed and pitch of the in-game music).
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85cd"></span><a href="../asm/85CD.html">85CD</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85CD.html">Screen flash counter</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised to zero by the routine at <a href="../asm/87CA.html">87CA</a>, but never used; the code at <a href="../asm/89AD.html#8a0b">8A0B</a> makes the screen flash in Manic Miner fashion if this address holds a non-zero value.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85ce"></span><a href="../asm/85CE.html">85CE</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85CE.html">Kempston joystick indicator</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised by the routine at <a href="../asm/87CA.html">87CA</a>, and checked by the routines at <a href="../asm/8ED4.html">8ED4</a> and <a href="../asm/96C9.html">96C9</a>. Holds 1 if a joystick is present, 0 otherwise.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85cf"></span><a href="../asm/85CF.html">85CF</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85CF.html">Willy's y-coordinate</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised to 208 by the routine at <a href="../asm/87CA.html">87CA</a>, and used by the routines at <a href="../asm/89AD.html">89AD</a>, <a href="../asm/8B07.html">8B07</a>, <a href="../asm/8DD3.html">8DD3</a>, <a href="../asm/8ED4.html">8ED4</a>, <a href="../asm/8FBC.html">8FBC</a>, <a href="../asm/91BE.html">91BE</a>, <a href="../asm/94B0.html">94B0</a>, <a href="../asm/94D2.html">94D2</a>, <a href="../asm/9534.html">9534</a>, <a href="../asm/95C8.html">95C8</a> and <a href="../asm/9637.html">9637</a>. Holds the LSB of the address of the entry in the screen buffer address lookup table at <a href="../asm/8200.html">8200</a> that corresponds to Willy's pixel y-coordinate; in practice, this LSB is twice Willy's actual pixel y-coordinate. Note that when Willy is standing on a ramp, this holds his y-coordinate rounded down to the nearest multiple of 16 (8x2).
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85d0"></span><a href="../asm/85D0.html">85D0</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85D0.html">Willy's direction and movement flags</a></div>
<div class="map-entry-desc">
<div class="paragraph">
<table class="default">
<tr>
<th colspan="1" rowspan="1">Bit(s)</th>
<th colspan="1" rowspan="1">Meaning</th>
<th colspan="1" rowspan="1">Used by</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0</td>
<td class="" colspan="1" rowspan="1">Direction Willy is facing (reset=right, set=left)</td>
<td class="" colspan="1" rowspan="1"><a href="../asm/8ED4.html">8ED4</a>, <a href="../asm/8FBC.html">8FBC</a>, <a href="../asm/9637.html">9637</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">Willy's left/right movement flag (set=moving)</td>
<td class="" colspan="1" rowspan="1"><a href="../asm/8DD3.html">8DD3</a>, <a href="../asm/8ED4.html">8ED4</a>, <a href="../asm/8FBC.html">8FBC</a>, <a href="../asm/91BE.html">91BE</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">2-7</td>
<td class="" colspan="1" rowspan="1">Unused (always reset)</td>
<td class="" colspan="1" rowspan="1"></td>
</tr>
</table>
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85d1"></span><a href="../asm/85D1.html">85D1</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85D1.html">Airborne status indicator</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised by the routine at <a href="../asm/87CA.html">87CA</a>, checked by the routines at <a href="../asm/8B07.html">8B07</a>, <a href="../asm/8FBC.html">8FBC</a> and <a href="../asm/95C8.html">95C8</a>, updated by the routines at <a href="../asm/90B6.html">90B6</a>, <a href="../asm/91BE.html">91BE</a> and <a href="../asm/94B0.html">94B0</a>, and checked and updated by the routines at <a href="../asm/8DD3.html">8DD3</a>, <a href="../asm/8ED4.html">8ED4</a> and <a href="../asm/94D2.html">94D2</a>. Possible values are:
</div>
<div class="paragraph">
<table class="default">
<tr>
<th colspan="1" rowspan="1">Value</th>
<th colspan="1" rowspan="1">Meaning</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x00</td>
<td class="" colspan="1" rowspan="1">Willy is neither falling nor jumping</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x01</td>
<td class="" colspan="1" rowspan="1">Willy is jumping</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x02-0x0B</td>
<td class="" colspan="1" rowspan="1">Willy is falling, and can land safely</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x0C-0x0F</td>
<td class="" colspan="1" rowspan="1">Willy is falling, and has fallen too far to land safely</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0xFF</td>
<td class="" colspan="1" rowspan="1">Willy has collided with a nasty, an arrow, a guardian, or Maria (see <a href="../asm/90B6.html">90B6</a>)</td>
</tr>
</table>
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85d2"></span><a href="../asm/85D2.html">85D2</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85D2.html">Willy's animation frame</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Used by the routines at <a href="../asm/95C8.html">95C8</a> and <a href="../asm/9637.html">9637</a>, and updated by the routines at <a href="../asm/89AD.html">89AD</a>, <a href="../asm/8FBC.html">8FBC</a> and <a href="../asm/91BE.html">91BE</a>. Possible values are 0, 1, 2 and 3.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85d3"></span><a href="../asm/85D3.html">85D3</a></td>
<td class="map-length">2</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85D3.html">Address of Willy's location in the attribute buffer at 5C00</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised by the routine at <a href="../asm/87CA.html">87CA</a>, and used by the routines at <a href="../asm/8DD3.html">8DD3</a>, <a href="../asm/8FBC.html">8FBC</a>, <a href="../asm/91BE.html">91BE</a>, <a href="../asm/948A.html">948A</a>, <a href="../asm/949E.html">949E</a>, <a href="../asm/94B0.html">94B0</a>, <a href="../asm/94D2.html">94D2</a>, <a href="../asm/9534.html">9534</a>, <a href="../asm/9584.html">9584</a>, <a href="../asm/95C8.html">95C8</a> and <a href="../asm/9637.html">9637</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85d5"></span><a href="../asm/85D5.html">85D5</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85D5.html">Jumping animation counter</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Used by the routines at <a href="../asm/8DD3.html">8DD3</a> and <a href="../asm/8ED4.html">8ED4</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85d6"></span><a href="../asm/85D6.html">85D6</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85D6.html">Rope status indicator</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised by the routine at <a href="../asm/8912.html">8912</a>, checked by the routines at <a href="../asm/8DD3.html">8DD3</a> and <a href="../asm/8FBC.html">8FBC</a>, and checked and updated by the routines at <a href="../asm/8ED4.html">8ED4</a> and <a href="../asm/91BE.html">91BE</a>. Possible values are:
</div>
<div class="paragraph">
<table class="default">
<tr>
<th colspan="1" rowspan="1">Value</th>
<th colspan="1" rowspan="1">Meaning</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x00</td>
<td class="" colspan="1" rowspan="1">Willy is not on the rope</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0x03-0x20</td>
<td class="" colspan="1" rowspan="1">Willy is on the rope, with the centre of his sprite anchored at this segment</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0xF0-0xFF</td>
<td class="" colspan="1" rowspan="1">Willy has just jumped or fallen off the rope</td>
</tr>
</table>
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85d7"></span><a href="../asm/85D7.html">85D7</a></td>
<td class="map-length">7</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85D7.html">Willy's state on entry to the room</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised by the routine at <a href="../asm/8912.html">8912</a>, and copied back into <a href="gbuffer.html#85cf">85CF-85D5</a> by the routine at <a href="../asm/8C01.html">8C01</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85de"></span><a href="../asm/85DE.html">85DE</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85DE.html">256 minus the number of items remaining</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised by the routine at <a href="../asm/87CA.html">87CA</a>, and updated by the routine at <a href="../asm/93D1.html">93D1</a> when an item is collected.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85df"></span><a href="../asm/85DF.html">85DF</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85DF.html">Game mode indicator</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised by the routine at <a href="../asm/87CA.html">87CA</a>, checked by the routines at <a href="../asm/89AD.html">89AD</a>, <a href="../asm/8ED4.html">8ED4</a> and <a href="../asm/959A.html">959A</a>, and updated by the routines at <a href="../asm/93D1.html">93D1</a>, <a href="../asm/9534.html">9534</a> and <a href="../asm/9584.html">9584</a>.
</div>
<div class="paragraph">
<table class="default">
<tr>
<th colspan="1" rowspan="1">Value</th>
<th colspan="1" rowspan="1">Meaning</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0</td>
<td class="" colspan="1" rowspan="1">Normal</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">All items collected</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">2</td>
<td class="" colspan="1" rowspan="1">Willy is running to the toilet</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">3</td>
<td class="" colspan="1" rowspan="1">Willy's head is down the toilet</td>
</tr>
</table>
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85e0"></span><a href="../asm/85E0.html">85E0</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85E0.html">Inactivity timer</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised by the routine at <a href="../asm/87CA.html">87CA</a>, and updated by the routines at <a href="../asm/89AD.html">89AD</a>, <a href="../asm/8B07.html">8B07</a> and <a href="../asm/8ED4.html">8ED4</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85e1"></span><a href="../asm/85E1.html">85E1</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85E1.html">In-game music note index</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Initialised by the routine at <a href="../asm/87CA.html">87CA</a>, used by the routine at <a href="../asm/898B.html">898B</a>, and used and updated by the routine at <a href="../asm/8B07.html">8B07</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85e2"></span><a href="../asm/85E2.html">85E2</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85E2.html">Music flags</a></div>
<div class="map-entry-desc">
<div class="paragraph">
The keypress flag in bit 0 is initialised by the routine at <a href="../asm/87CA.html">87CA</a>; bits 0 and 1 are checked and updated by the routine at <a href="../asm/8B07.html">8B07</a>.
</div>
<div class="paragraph">
<table class="default">
<tr>
<th colspan="1" rowspan="1">Bit(s)</th>
<th colspan="1" rowspan="1">Meaning</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">0</td>
<td class="" colspan="1" rowspan="1">Keypress flag (set=H-ENTER being pressed, reset=no key pressed)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">1</td>
<td class="" colspan="1" rowspan="1">In-game music flag (set=music off, reset=music on)</td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">2-7</td>
<td class="" colspan="1" rowspan="1">Unused</td>
</tr>
</table>
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85e3"></span><a href="../asm/85E3.html">85E3</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85E3.html">WRITETYPER key counter</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Checked by the routine at <a href="../asm/89AD.html">89AD</a>, and updated by the routine at <a href="../asm/8B07.html">8B07</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="map-g"><span id="85e4"></span><a href="../asm/85E4.html">85E4</a></td>
<td class="map-length">1</td>
<td class="map-g-desc">
<div class="map-entry-title-11"><a class="map-entry-title" href="../asm/85E4.html">Temporary variable</a></div>
<div class="map-entry-desc">
<div class="paragraph">
Used by the routines at <a href="../asm/86C3.html">86C3</a> and <a href="../asm/873C.html">873C</a> to hold the entry code, by the routine at <a href="../asm/87CA.html">87CA</a> to hold the index into the message scrolled across the screen after the theme tune has finished playing, and by the routine at <a href="../asm/8C4A.html">8C4A</a> to hold the distance of the foot from the top of the screen as it descends onto Willy.
</div>
</div>
</td>
</tr>
</table>
<footer>
<div class="release">The complete Jet Set Willy RAM disassembly 20221122</div>
<div class="copyright">&#169; 1984 Software Projects Ltd. &#169; 2022 Richard Dymond.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.8.</div>
<div><a href="../dec/buffers/gbuffer.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>